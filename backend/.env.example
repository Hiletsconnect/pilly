# =========================
# Pilly Cloud - Backend ENV
# =========================

# Entorno
APP_ENV=prod

# üîê Sesiones (pon√© algo largo y random)
SECRET_KEY=CHANGE_ME_SUPER_LONG_RANDOM_SECRET_64CHARS_MIN
SESSION_COOKIE=pilly_session

# =========================
# Database (Railway Postgres)
# =========================
# Railway normalmente te inyecta DATABASE_URL autom√°ticamente cuando agreg√°s Postgres.
# Si lo quer√©s setear manual, us√° formato SQLAlchemy:
# postgresql+psycopg://USER:PASS@HOST:PORT/DB
DATABASE_URL=postgresql+psycopg://postgres:postgres@localhost:5432/pilly

# =========================
# Admin inicial (MVP)
# =========================
ADMIN_USER=admin
ADMIN_PASS=CHANGE_ME_STRONG_PASSWORD

# =========================
# MQTT / EMQX
# =========================
# Host/port del broker EMQX (Railway)
MQTT_HOST=localhost
MQTT_PORT=1883

# TLS: 1 si us√°s 8883 con TLS, 0 si es 1883 sin TLS
MQTT_TLS=0

# Credenciales del "server" (backend) para publicar/escuchar todo
MQTT_USERNAME=SERVER
MQTT_PASSWORD=CHANGE_ME_SERVER_MQTT_PASSWORD

# Base de topics
TOPIC_BASE=pilly/dev

# =========================
# Firmware storage
# =========================
# En Railway conviene usar /app/data (si ten√©s Volume) o dejarlo ephemeral para MVP
DATA_DIR=/app/data
FIRMWARE_DIR=firmware

# =========================
# EMQX -> Backend (HTTP AuthN/AuthZ)
# =========================
# Este secreto es para que NADIE llame tus endpoints /api/emqx/* salvo EMQX
EMQX_WEBHOOK_SECRET=CHANGE_ME_EMQX_WEBHOOK_SECRET_LONG

# =========================
# Opcional: URL p√∫blica del backend (para OTA)
# =========================
# Si despu√©s quer√©s que el backend construya URLs absolutas para el ESP32,
# sete√° esto (ej: https://pilly-cloud-production.up.railway.app)
PUBLIC_BASE_URL=